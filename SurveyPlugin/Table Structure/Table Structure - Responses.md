# Responses
All questions answered in a survey are stored in a table called `survey_responses`.
One of the things to note about records stored `survey_responses` is that the field `survey_id` is used to group records that match that field value under a single response, so each record is an answer to a question on the survey.

Table `survey_responses`:

| Field Name         | Description                                                                                                                                                                                                                                                                                                                                                                                                 |
| ------------------ | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| variant            | This is a bit field. This field is only used as a check when answering a question to see if the survey that is being answered is a variant survey. (1 is a variant. 0 is an original survey). This field is a bit redundant since we can already tell if the survey is a variant or not by checking if the field original_form_code is blank or not.                                                        |
| form_id            | This is a string field. The value of this field is either referencing the unique field 'form_id' in the table `form_list` or the unique field 'form_id' in the table `survey_question_variants`.                                                                                                                                                                                                            |
| original_form_code | This is a string field. The value of this field will either reference a record that matches on the field 'form_id' in the table `form_list` if the question being answered is a variant, else this field will be blank if not.                                                                                                                                                                              |
| survey_id          | This is a string field. When a user attempts to answer a survey, a global javascript variable gets generated from the backend in php. The reason for this is because the client wants each question answered to be immediately recorded, so we would need to push the variable to the frontend once we make sure that the variable has no matches in the field 'survey_id' in the table `survey_responses`. |
| question_id        | This is field is used to reference the 'question_order' in the table `question_list`, it is being used but is not necessarily needed since we can use the q_uid to find the question_order                                                                                                                                                                                                                  |
| rq_uid             | 'rq_uid' field references the field 'q_uid' in the table `question_list`.                                                                                                                                                                                                                                                                                                                                   |
| answer             | This field contains the response answered by a user for the question that this record references.                                                                                                                                                                                                                                                                                                           |
| sentiment          | This field is not currently being used.                                                                                                                                                                                                                                                                                                                                                                     |
| date_created       | This is a timestamp for the creation of this record.                                                                                                                                                                                                                                                                                                                                                        |
A lot of improvements could be made on the structure of how we stored responses. But it would take some time as there are multiple places where this table is being used, and we would need to get time to refactor the code using, referencing and recording this table. As it currently stands, it is not a priority as the above mentioned features are currently stable and working.
